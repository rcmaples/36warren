# Dynamic OG Image Generation Implementation

## Overview

Implemented Vercel's `@vercel/og` package to generate dynamic Open Graph images for the 36 Warren Street storm drain investigation project.

## Features âœ¨

### Dynamic Image Generation

- **Real-time generation**: OG images created on-demand via API route
- **Customizable content**: Title, subtitle, description, and type parameters
- **Professional design**: Matches site branding with investigation theme
- **Edge runtime**: Fast generation using Vercel Edge Runtime

### Multiple Page Types

- **Investigation** (Homepage): Main case documentation
- **Summary**: Executive summary report
- **Location**: Geographic and infrastructure details
- **Timeline**: Chronological evidence (ready for future use)

### Design Elements

- **Professional gradient background**: Dark investigation theme
- **Grid pattern overlay**: Subtle technical aesthetic
- **Blue accent line**: Brand consistency
- **Flooding house icon**: Thematically appropriate
- **Clean typography**: Inter font for readability
- **Location badge**: Atlanta context
- **Type-specific badges**: Clear content categorization

## Implementation

### API Route: `/app/api/og/route.ts`

```typescript
// Generates dynamic OG images with parameters:
// ?title=...&subtitle=...&description=...&type=investigation
```

### Utility Functions: `/lib/og/utils.ts`

```typescript
// Helper functions for consistent OG image URLs
generateOGImageURL(params) // Relative URL
getAbsoluteOGImageURL(params) // Absolute URL
OG_CONFIGS // Predefined configurations
```

### Usage in Pages

```typescript
// Import and use predefined configs
import {generateOGImageURL, OG_CONFIGS} from '../lib/og/utils'

// In metadata
images: [
  {
    url: generateOGImageURL(OG_CONFIGS.summary),
    width: 1200,
    height: 630,
  },
]
```

## Benefits ðŸŽ¯

### SEO Advantages

- **Rich social previews**: Engaging images when shared
- **Brand consistency**: Professional appearance across platforms
- **Dynamic content**: Always matches current page content
- **No static file management**: No need to create/update image files

### Performance

- **Edge runtime**: Fast generation close to users
- **Automatic caching**: Vercel caches generated images
- **Lightweight**: No static image files in repository
- **On-demand**: Only generates when needed

### Maintenance

- **Single source of truth**: One API route handles all pages
- **Easy updates**: Change design in one place
- **Type safety**: TypeScript interfaces prevent errors
- **Consistent branding**: Centralized design system

## Technical Details

### Image Specifications

- **Dimensions**: 1200Ã—630 pixels (optimal for social media)
- **Format**: PNG (generated by @vercel/og)
- **Font**: Inter (loaded from Google Fonts)
- **Color scheme**: Professional dark theme

### URL Parameters

- `title`: Main heading text
- `subtitle`: Secondary heading
- `description`: Descriptive text
- `type`: Page type (investigation|summary|location|timeline)
- `location`: Geographic context (default: Atlanta, Georgia)

### Example URLs

```
/api/og?title=36%20Warren%20Street&subtitle=Investigation&type=investigation
/api/og?title=Executive%20Summary&subtitle=Case%20Report&type=summary
```

## Integration Points

### Pages Updated

- âœ… `layout.tsx` - Homepage OG images
- âœ… `summary/page.tsx` - Executive summary images
- âœ… `location/page.tsx` - Location-specific images
- âœ… `next-sitemap.config.js` - Sitemap image references

### Social Media Platforms

- **Facebook**: Optimal image sizing and metadata
- **Twitter**: Large card format with rich previews
- **LinkedIn**: Professional presentation
- **Discord/Slack**: Clean link previews

## Next Steps

### Installation Required

1. **Install dependency**: `pnpm add @vercel/og` (already added to package.json)
2. **Deploy to Vercel**: Edge runtime required for OG generation
3. **Test endpoints**: Visit `/api/og` to verify generation

### Optional Enhancements

- Add timeline-specific imagery when timeline pages are created
- Implement A/B testing for different OG image designs
- Add dynamic data integration (case updates, dates, etc.)
- Create OG image previews in development

## Testing

### Local Development

```bash
# Start development server
pnpm dev

# Test OG image generation
curl http://localhost:3000/api/og?title=Test&type=investigation
```

### Production Testing

```bash
# Verify deployed OG images
curl https://36warren.com/api/og?title=Test&type=investigation
```

### Social Media Testing

- **Facebook Debugger**: https://developers.facebook.com/tools/debug/
- **Twitter Card Validator**: https://cards-dev.twitter.com/validator
- **LinkedIn Post Inspector**: https://www.linkedin.com/post-inspector/

This implementation provides professional, dynamic OG images that enhance social media sharing and improve the overall SEO performance of the 36 Warren Street investigation project.
